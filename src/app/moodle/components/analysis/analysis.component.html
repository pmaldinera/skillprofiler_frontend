<div class="grid">
    <div class="col-12">
        <div class="card px-6 py-6">
            <h5 class="m-0">Summary</h5>
            <div class="formgrid grid">
                <div class="field col-12">
                    <textarea #textarea type="text" rows="4" class="text-base text-color surface-overlay p-2 border-1 border-solid surface-border border-round appearance-none outline-none focus:border-primary w-full">{{summary.summary}}</textarea>
                </div>
                <div class="field col-12">
                    <button pButton pRipple label="Save" icon="pi pi-save" class="p-button-success" (click)="save(summary.summaryid, textarea.value)"></button>
                    <p-messages [enableService]="true"></p-messages>
                </div>
            </div>

            <p-table #dt
                    styleClass="p-datatable-striped p-datatable-custom"
                    [value]="danalysis"
                    responsiveLayout="scroll"
                    [rows]="5"
                    [paginator]="true"
                    [showCurrentPageReport]="true"
                    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                    selectionMode="multiple"
                    [rowHover]="true"
                    dataKey="id">

                <ng-template pTemplate="header">
                    <tr>
                        <th pSortableColumn="escale" style="text-align: center;">Escale</th>
                        <th pSortableColumn="pd" style="text-align: center;">PD</th>
                        <th pSortableColumn="dc" style="text-align: center;">DC</th>
                        <th pSortableColumn="profile" style="text-align: center;">Profile</th>
                        <th pSortableColumn="presummary" style="text-align: center;">Presummary</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-analysis>
                    <tr>
                        <td style="width:5%; min-width:3rem; text-align: center;">
                            <span class="p-column-title">Escale</span>
                            {{analysis.esc}}
                        </td>
                        <td style="width:5%; min-width:3rem; text-align: center;">
                            <span class="p-column-title">PD</span>
                            {{analysis.pd}}
                        </td>
                        <td style="width:5%; min-width:3rem; text-align: center;">
                            <span class="p-column-title">DC</span>
                            {{analysis.dc}}
                        </td>
                        <td style="width:20%; min-width:10rem;">
                            <span class="p-column-title">Profile</span>
                            {{analysis.profile}}
                        </td>
                        <td style="width:30%; min-width:10rem;">
                            <span class="p-column-title">Presummary</span>
                            {{analysis.presummary}}
                        </td>
                    </tr>
                </ng-template>
            </p-table>
        </div>
    </div>
</div>
